{
  "summary": {
    "total_databases": 1,
    "green_databases": 0,
    "amber_databases": 0,
    "red_databases": 1,
    "error_databases": 0
  },
  "databases": {
    "database-3": {
      "cluster_id": "database-3",
      "version": "5.7.mysql_aurora.2.12.3",
      "engine": "aurora-mysql",
      "type": "AURORA",
      "checks": [
        {
          "name": "Schema Information",
          "description": "Analyzes database schemas, table counts, sizes, and storage engines to assess overall database complexity",
          "status": "GREEN",
          "issues": [],
          "recommendations": [],
          "details": {
            "schemas": [
              {
                "table_schema": "upgrade_test",
                "table_count": 19,
                "size_mb": 0.515625,
                "engines": "InnoDB",
                "collations": "latin1_swedish_ci,utf8_general_ci"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_count": 18,
                "size_mb": 0.8125,
                "engines": "InnoDB",
                "collations": "latin1_swedish_ci,utf8mb4_general_ci,utf8mb4_unicode_ci"
              }
            ],
            "tables": [
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "engine": "InnoDB",
                "table_rows": 5,
                "size_bytes": 114688,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:12:29"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "heavily_partitioned",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 98304,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 81920,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "shipping_carriers",
                "engine": "InnoDB",
                "table_rows": 4,
                "size_bytes": 65536,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:09"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_categories",
                "engine": "InnoDB",
                "table_rows": 5,
                "size_bytes": 65536,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:09"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 65536,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "engine": "InnoDB",
                "table_rows": 10,
                "size_bytes": 65536,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:12:30"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "engine": "InnoDB",
                "table_rows": 7,
                "size_bytes": 65536,
                "table_collation": "utf8mb4_unicode_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:08"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_history",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 65536,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 65536,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 49152,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 49152,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "engine": "InnoDB",
                "table_rows": 7,
                "size_bytes": 49152,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:08"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 49152,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "engine": "InnoDB",
                "table_rows": 10,
                "size_bytes": 49152,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:08"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "engine": "InnoDB",
                "table_rows": 10,
                "size_bytes": 49152,
                "table_collation": "utf8mb4_unicode_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "child_table",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 32768,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "engine": "InnoDB",
                "table_rows": 2,
                "size_bytes": 32768,
                "table_collation": "utf8mb4_general_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:07"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 32768,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "engine": "InnoDB",
                "table_rows": 2,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:12:29"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "parent_table",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_tinyint",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_smallint",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "old_utf8_table",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "utf8_general_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "window",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "locations",
                "engine": "InnoDB",
                "table_rows": 2,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:12:29"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "user_passwords",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "latin1_table",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "system",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "rank",
                "engine": "InnoDB",
                "table_rows": 0,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": null
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "engine": "InnoDB",
                "table_rows": 3,
                "size_bytes": 16384,
                "table_collation": "latin1_swedish_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:12:29"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "engine": "InnoDB",
                "table_rows": 5,
                "size_bytes": 16384,
                "table_collation": "utf8mb4_unicode_ci",
                "create_time": null,
                "update_time": "2025-12-12T23:11:08"
              }
            ],
            "summary": {
              "total_schemas": 2,
              "total_tables": 34,
              "total_size_mb": 1.328125,
              "engines_used": [
                "InnoDB"
              ]
            }
          }
        },
        {
          "name": "Version Compatibility",
          "description": "Validates current MySQL 5.7 version and identifies version-specific compatibility issues for MySQL 8.0 upgrade",
          "status": "AMBER",
          "issues": [
            "Current version 5.7.44 needs upgrade to 8.0",
            "Server character set: latin1",
            "Server collation: latin1_swedish_ci"
          ],
          "recommendations": [
            "Plan upgrade to MySQL 8.0",
            "Review MySQL 8.0 compatibility requirements",
            "Review character set and collation settings for 8.0 compatibility"
          ],
          "details": {
            "version": "5.7.44",
            "version_comment": "MySQL Community Server (GPL)",
            "version_compile_os": "Linux",
            "version_compile_machine": "aarch64",
            "charset_server": "latin1",
            "collation_server": "latin1_swedish_ci"
          }
        },
        {
          "name": "Character Set Check",
          "description": "Identifies legacy character sets (latin1, utf8) that should be migrated to utf8mb4 for full Unicode support",
          "status": "AMBER",
          "issues": [
            "\nSchema: upgrade_test",
            "  Table: audit_log\n    Column: action\n    Type: varchar(10)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: audit_log\n    Column: changed_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: audit_log\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: audit_log\n    Column: new_value\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: audit_log\n    Column: old_value\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: audit_log\n    Column: table_name\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: child_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: child_table\n    Column: info\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: child_table\n    Column: parent_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_data\n    Column: created_at\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_data\n    Column: email\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: customer_data\n    Column: full_name\n    Type: varchar(200)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: customer_data\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_data\n    Column: metadata\n    Type: json\n    Current Charset: None\n    Current Collation: None",
            "  Table: heavily_partitioned\n    Column: created_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
            "  Table: heavily_partitioned\n    Column: data\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: heavily_partitioned\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: inventory\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: inventory\n    Column: product_code\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: inventory\n    Column: quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: inventory\n    Column: status\n    Type: varchar(20)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: inventory\n    Column: warehouse_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: large_data_table\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: large_data_table\n    Column: data1\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: large_data_table\n    Column: data2\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: large_data_table\n    Column: data3\n    Type: blob\n    Current Charset: None\n    Current Collation: None",
            "  Table: large_data_table\n    Column: data4\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: large_data_table\n    Column: data5\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: large_data_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: latin1_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: latin1_table\n    Column: name\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: locations\n    Column: area\n    Type: polygon\n    Current Charset: None\n    Current Collation: None",
            "  Table: locations\n    Column: coordinates\n    Type: point\n    Current Charset: None\n    Current Collation: None",
            "  Table: locations\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: locations\n    Column: name\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: old_utf8_table\n    Column: description\n    Type: text\n    Current Charset: utf8\n    Current Collation: utf8_general_ci",
            "  Table: old_utf8_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders_smallint\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders_smallint\n    Column: order_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders_smallint\n    Column: order_id\n    Type: smallint(5) unsigned\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders_smallint\n    Column: total\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders_tinyint\n    Column: item_code\n    Type: varchar(20)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: orders_tinyint\n    Column: order_id\n    Type: tinyint(3) unsigned\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders_tinyint\n    Column: quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: parent_table\n    Column: data\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: parent_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: attributes\n    Type: json\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: name\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: products\n    Column: tags\n    Type: json\n    Current Charset: None\n    Current Collation: None",
            "  Table: rank\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: rank\n    Column: score\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_data\n    Column: groups\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: sales_data\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_data\n    Column: lag\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_data\n    Column: lead\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_data\n    Column: over\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: system\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: system\n    Column: name\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: user_passwords\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: user_passwords\n    Column: password_hash\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: user_passwords\n    Column: username\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: window\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: window\n    Column: title\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "\nSchema: upgrade_test_good",
            "  Table: audit_trail\n    Column: action_type\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: audit_trail\n    Column: audit_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: audit_trail\n    Column: changed_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: audit_trail\n    Column: changed_by\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: audit_trail\n    Column: record_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: audit_trail\n    Column: table_name\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customers\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: customers\n    Column: email\n    Type: varchar(255)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: customers\n    Column: first_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: customers\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customers\n    Column: last_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: customer_addresses\n    Column: address_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_addresses\n    Column: address_type\n    Type: enum('billing','shipping','both')\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customer_addresses\n    Column: city\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customer_addresses\n    Column: country\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customer_addresses\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_addresses\n    Column: is_default\n    Type: tinyint(1)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_addresses\n    Column: postal_code\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customer_addresses\n    Column: state_province\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customer_addresses\n    Column: street_address\n    Type: varchar(255)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: customer_preferences\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_preferences\n    Column: notification_settings\n    Type: json\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_preferences\n    Column: preferences\n    Type: json\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_preferences\n    Column: preference_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: customer_preferences\n    Column: updated_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: event_logs\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: event_logs\n    Column: event_data\n    Type: json\n    Current Charset: None\n    Current Collation: None",
            "  Table: event_logs\n    Column: event_type\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: event_logs\n    Column: log_id\n    Type: bigint(20) unsigned\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders\n    Column: order_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders\n    Column: order_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: orders\n    Column: status\n    Type: enum('pending','processing','shipped','delivered','cancelled')\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: orders\n    Column: total_amount\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: order_items\n    Column: item_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: order_items\n    Column: order_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: order_items\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: order_items\n    Column: quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: order_items\n    Column: unit_price\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: category\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: products\n    Column: description\n    Type: text\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: products\n    Column: price\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: product_name\n    Type: varchar(200)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
            "  Table: products\n    Column: stock_quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: products\n    Column: updated_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_categories\n    Column: category_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_categories\n    Column: category_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: product_categories\n    Column: description\n    Type: text\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: product_categories\n    Column: display_order\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_categories\n    Column: parent_category_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_images\n    Column: display_order\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_images\n    Column: image_alt_text\n    Type: varchar(200)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: product_images\n    Column: image_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_images\n    Column: image_url\n    Type: varchar(500)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: product_images\n    Column: is_primary\n    Type: tinyint(1)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_images\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: helpful_count\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: rating\n    Type: tinyint(4)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: review_date\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: review_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: product_reviews\n    Column: review_text\n    Type: text\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: sales_history\n    Column: amount\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_history\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_history\n    Column: sale_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_history\n    Column: sale_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_transactions\n    Column: order_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_transactions\n    Column: payment_amount\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_transactions\n    Column: payment_method\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: sales_transactions\n    Column: transaction_date\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_transactions\n    Column: transaction_id\n    Type: bigint(20)\n    Current Charset: None\n    Current Collation: None",
            "  Table: sales_transactions\n    Column: transaction_status\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: session_data\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: session_data\n    Column: expires_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
            "  Table: session_data\n    Column: ip_address\n    Type: varchar(45)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: session_data\n    Column: session_id\n    Type: int(10) unsigned\n    Current Charset: None\n    Current Collation: None",
            "  Table: session_data\n    Column: session_token\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: session_data\n    Column: user_agent\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
            "  Table: session_data\n    Column: user_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: shipping_carriers\n    Column: carrier_code\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: shipping_carriers\n    Column: carrier_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: shipping_carriers\n    Column: carrier_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: shipping_carriers\n    Column: is_active\n    Type: tinyint(1)\n    Current Charset: None\n    Current Collation: None",
            "  Table: shipping_carriers\n    Column: tracking_url_template\n    Type: varchar(500)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: user_accounts\n    Column: account_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
            "  Table: user_accounts\n    Column: account_status\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: user_accounts\n    Column: last_login\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
            "  Table: user_accounts\n    Column: registration_date\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
            "  Table: user_accounts\n    Column: username\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
            "  Table: user_accounts\n    Column: user_email\n    Type: varchar(255)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci"
          ],
          "recommendations": [
            "Total columns to convert: 156",
            "Affected schemas: 2",
            "Affected tables: 34",
            "Convert legacy character sets to utf8mb4",
            "Example commands:",
            "  ALTER DATABASE <schema> CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;",
            "  ALTER TABLE <table> CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;",
            "Update application connection strings to use utf8mb4",
            "Consider taking backup before charset conversion",
            "Test application handling of 4-byte UTF-8 characters"
          ],
          "details": {
            "schema_charsets": [
              {
                "schema_name": "upgrade_test",
                "default_character_set_name": "latin1",
                "default_collation_name": "latin1_swedish_ci"
              },
              {
                "schema_name": "upgrade_test_good",
                "default_character_set_name": "latin1",
                "default_collation_name": "latin1_swedish_ci"
              }
            ],
            "charset_issues": [
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "table_collation": "latin1_swedish_ci",
                "column_name": "action",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(10)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "table_collation": "latin1_swedish_ci",
                "column_name": "changed_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "table_collation": "latin1_swedish_ci",
                "column_name": "new_value",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "table_collation": "latin1_swedish_ci",
                "column_name": "old_value",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "table_collation": "latin1_swedish_ci",
                "column_name": "table_name",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "child_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "child_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "info",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "child_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "parent_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "created_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "datetime",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "email",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "full_name",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(200)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "metadata",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "json",
                "data_type": "json"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "heavily_partitioned",
                "table_collation": "latin1_swedish_ci",
                "column_name": "created_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "heavily_partitioned",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "heavily_partitioned",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "table_collation": "latin1_swedish_ci",
                "column_name": "product_code",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "table_collation": "latin1_swedish_ci",
                "column_name": "quantity",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "table_collation": "latin1_swedish_ci",
                "column_name": "status",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "table_collation": "latin1_swedish_ci",
                "column_name": "warehouse_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "created_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data1",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data2",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data3",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "blob",
                "data_type": "blob"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data4",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data5",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "latin1_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "latin1_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "name",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "locations",
                "table_collation": "latin1_swedish_ci",
                "column_name": "area",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "polygon",
                "data_type": "polygon"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "locations",
                "table_collation": "latin1_swedish_ci",
                "column_name": "coordinates",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "point",
                "data_type": "point"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "locations",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "locations",
                "table_collation": "latin1_swedish_ci",
                "column_name": "name",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "old_utf8_table",
                "table_collation": "utf8_general_ci",
                "column_name": "description",
                "character_set_name": "utf8",
                "collation_name": "utf8_general_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "old_utf8_table",
                "table_collation": "utf8_general_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_smallint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "customer_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_smallint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "order_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_smallint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "order_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "smallint(5) unsigned",
                "data_type": "smallint"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_smallint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "total",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_tinyint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "item_code",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_tinyint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "order_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "tinyint(3) unsigned",
                "data_type": "tinyint"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_tinyint",
                "table_collation": "latin1_swedish_ci",
                "column_name": "quantity",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "parent_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "data",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "parent_table",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "table_collation": "latin1_swedish_ci",
                "column_name": "attributes",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "json",
                "data_type": "json"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "table_collation": "latin1_swedish_ci",
                "column_name": "name",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "table_collation": "latin1_swedish_ci",
                "column_name": "tags",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "json",
                "data_type": "json"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "rank",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "rank",
                "table_collation": "latin1_swedish_ci",
                "column_name": "score",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "groups",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "lag",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "lead",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "over",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "system",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "system",
                "table_collation": "latin1_swedish_ci",
                "column_name": "name",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "user_passwords",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "user_passwords",
                "table_collation": "latin1_swedish_ci",
                "column_name": "password_hash",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "user_passwords",
                "table_collation": "latin1_swedish_ci",
                "column_name": "username",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "window",
                "table_collation": "latin1_swedish_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "window",
                "table_collation": "latin1_swedish_ci",
                "column_name": "title",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "action_type",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "audit_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "changed_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "changed_by",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "record_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "table_name",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "created_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "email",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "first_name",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "last_name",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "address_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "address_type",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "enum('billing','shipping','both')",
                "data_type": "enum"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "city",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "country",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "customer_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "is_default",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "tinyint(1)",
                "data_type": "tinyint"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "postal_code",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "state_province",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "street_address",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "customer_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "notification_settings",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "json",
                "data_type": "json"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "preferences",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "json",
                "data_type": "json"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "preference_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "updated_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "table_collation": "latin1_swedish_ci",
                "column_name": "created_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "table_collation": "latin1_swedish_ci",
                "column_name": "event_data",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "json",
                "data_type": "json"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "table_collation": "latin1_swedish_ci",
                "column_name": "event_type",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "table_collation": "latin1_swedish_ci",
                "column_name": "log_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "bigint(20) unsigned",
                "data_type": "bigint"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "customer_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "order_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "order_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "status",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "enum('pending','processing','shipped','delivered','cancelled')",
                "data_type": "enum"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "total_amount",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "item_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "order_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "product_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "quantity",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "unit_price",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "category",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "description",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "price",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "product_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "product_name",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_unicode_ci",
                "column_type": "varchar(200)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "stock_quantity",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "table_collation": "utf8mb4_unicode_ci",
                "column_name": "updated_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_categories",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "category_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_categories",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "category_name",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_categories",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "description",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_categories",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "display_order",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_categories",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "parent_category_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "display_order",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "image_alt_text",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(200)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "image_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "image_url",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(500)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "is_primary",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "tinyint(1)",
                "data_type": "tinyint"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "product_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "customer_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "helpful_count",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "product_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "rating",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "tinyint(4)",
                "data_type": "tinyint"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "review_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "datetime",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "review_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "review_text",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_history",
                "table_collation": "latin1_swedish_ci",
                "column_name": "amount",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_history",
                "table_collation": "latin1_swedish_ci",
                "column_name": "customer_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_history",
                "table_collation": "latin1_swedish_ci",
                "column_name": "sale_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_history",
                "table_collation": "latin1_swedish_ci",
                "column_name": "sale_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "order_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "payment_amount",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "decimal(10,2)",
                "data_type": "decimal"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "payment_method",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "transaction_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "datetime",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "transaction_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "bigint(20)",
                "data_type": "bigint"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "transaction_status",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "created_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "expires_at",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "timestamp",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "ip_address",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(45)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "session_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(10) unsigned",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "session_token",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "user_agent",
                "character_set_name": "latin1",
                "collation_name": "latin1_swedish_ci",
                "column_type": "text",
                "data_type": "text"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "table_collation": "latin1_swedish_ci",
                "column_name": "user_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "shipping_carriers",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "carrier_code",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "shipping_carriers",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "carrier_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "shipping_carriers",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "carrier_name",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(100)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "shipping_carriers",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "is_active",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "tinyint(1)",
                "data_type": "tinyint"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "shipping_carriers",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "tracking_url_template",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(500)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "account_id",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "int(11)",
                "data_type": "int"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "account_status",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(20)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "last_login",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "datetime",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "registration_date",
                "character_set_name": null,
                "collation_name": null,
                "column_type": "datetime",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "username",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(50)",
                "data_type": "varchar"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "table_collation": "utf8mb4_general_ci",
                "column_name": "user_email",
                "character_set_name": "utf8mb4",
                "collation_name": "utf8mb4_general_ci",
                "column_type": "varchar(255)",
                "data_type": "varchar"
              }
            ],
            "summary": {
              "total_issues": 156,
              "affected_schemas": 2,
              "affected_tables": 34
            }
          }
        },
        {
          "name": "Binary Log Settings",
          "description": "Verifies binary logging configuration and format requirements for MySQL 8.0 replication compatibility",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "Update parameter group with the following changes:",
            "Required changes:",
            "Optional changes for better durability:",
            "Review replication topology before making changes",
            "Test application performance with new settings",
            "Plan for potential replication lag during transition"
          ],
          "details": {
            "current_settings": {
              "binlog_format": "ROW",
              "binlog_row_image": "FULL",
              "gtid_mode": "OFF_PERMISSIVE",
              "enforce_gtid_consistency": "OFF",
              "log_bin": 0,
              "binlog_rows_query_log_events": 0,
              "dependency_tracking": "COMMIT_ORDER",
              "sync_binlog": 1,
              "flush_log_at_trx_commit": 1
            },
            "required_changes": [
              {
                "parameter": "gtid_mode",
                "current": "OFF_PERMISSIVE",
                "required": "ON"
              }
            ],
            "optional_changes": []
          }
        },
        {
          "name": "Deprecated Features Check",
          "description": "Detects deprecated functions, authentication methods, and SQL modes that are removed in MySQL 8.0",
          "status": "RED",
          "issues": [
            "Found 4 users with deprecated authentication methods",
            "Deprecated system variable in use: query_cache_size",
            "Deprecated system variable in use: query_cache_type",
            "Deprecated system variable in use: innodb_file_format",
            "Deprecated system variable in use: innodb_file_format_check",
            "Deprecated system variable in use: innodb_file_format_max",
            "Deprecated system variable in use: tx_isolation",
            "Deprecated system variable in use: tx_read_only",
            "Deprecated system variable in use: secure_auth",
            "Deprecated system variable in use: multi_range_count",
            "Query cache is enabled but will be removed in 8.0",
            "Found 2 spatial columns - review SRID requirements"
          ],
          "recommendations": [
            "Update authentication to caching_sha2_password for all users",
            "Disable query cache and remove related settings",
            "Update system variables to use new names and remove deprecated ones",
            "Add SRID to spatial columns and rebuild spatial indexes"
          ],
          "details": {
            "authentication": {
              "status": "RED",
              "issues": [],
              "affected_users": [
                {
                  "user": "admin",
                  "host": "%",
                  "plugin": "mysql_native_password",
                  "authentication_string": "*1963F246144A222D358308314097FFA99ED9C7EA"
                },
                {
                  "user": "mysql.session",
                  "host": "localhost",
                  "plugin": "mysql_native_password",
                  "authentication_string": "*THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE"
                },
                {
                  "user": "mysql.sys",
                  "host": "localhost",
                  "plugin": "mysql_native_password",
                  "authentication_string": "*THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE"
                },
                {
                  "user": "rdsadmin",
                  "host": "localhost",
                  "plugin": "mysql_native_password",
                  "authentication_string": "*CAEE137E64F84EDFED75BCA512A1ACC3BB98FFC5"
                }
              ]
            },
            "functions_and_syntax": {
              "status": "GREEN",
              "issues": [],
              "affected_objects": []
            },
            "system_variables": {
              "status": "AMBER",
              "issues": [],
              "deprecated_vars": [
                {
                  "variable": "query_cache_size",
                  "current_value": "462695424",
                  "recommendation": "Remove - query cache is deprecated"
                },
                {
                  "variable": "query_cache_type",
                  "current_value": "ON",
                  "recommendation": "Remove - query cache is deprecated"
                },
                {
                  "variable": "innodb_file_format",
                  "current_value": "Barracuda",
                  "recommendation": "Remove - only Barracuda format supported"
                },
                {
                  "variable": "innodb_file_format_check",
                  "current_value": "ON",
                  "recommendation": "Remove - only Barracuda format supported"
                },
                {
                  "variable": "innodb_file_format_max",
                  "current_value": "Barracuda",
                  "recommendation": "Remove - only Barracuda format supported"
                },
                {
                  "variable": "tx_isolation",
                  "current_value": "REPEATABLE-READ",
                  "recommendation": "Use transaction_isolation instead"
                },
                {
                  "variable": "tx_read_only",
                  "current_value": "OFF",
                  "recommendation": "Use transaction_read_only instead"
                },
                {
                  "variable": "secure_auth",
                  "current_value": "ON",
                  "recommendation": "Remove - secure auth is mandatory"
                },
                {
                  "variable": "multi_range_count",
                  "current_value": "256",
                  "recommendation": "Remove - no longer used"
                }
              ]
            },
            "query_cache": {
              "status": "RED",
              "issues": [],
              "settings": [
                {
                  "Variable_name": "query_cache_limit",
                  "Value": "1048576"
                },
                {
                  "Variable_name": "query_cache_min_res_unit",
                  "Value": "4096"
                },
                {
                  "Variable_name": "query_cache_size",
                  "Value": "462695424"
                },
                {
                  "Variable_name": "query_cache_type",
                  "Value": "ON"
                }
              ]
            },
            "innodb_features": {
              "status": "GREEN",
              "issues": [],
              "deprecated_settings": []
            },
            "data_types": {
              "status": "GREEN",
              "issues": [],
              "temporal_columns": [],
              "spatial_columns": [
                {
                  "TABLE_SCHEMA": "upgrade_test",
                  "TABLE_NAME": "locations",
                  "COLUMN_NAME": "coordinates",
                  "COLUMN_TYPE": "point",
                  "has_spatial_index": 0
                },
                {
                  "TABLE_SCHEMA": "upgrade_test",
                  "TABLE_NAME": "locations",
                  "COLUMN_NAME": "area",
                  "COLUMN_TYPE": "polygon",
                  "has_spatial_index": 0
                }
              ]
            },
            "sql_modes": {
              "status": "GREEN",
              "issues": [],
              "deprecated_modes": []
            },
            "summary": {
              "total_issues": 13,
              "critical_issues": 2,
              "warnings": 11
            }
          }
        },
        {
          "name": "Parameter Compatibility Check",
          "description": "Identifies removed or changed system variables that require configuration updates before upgrading",
          "status": "RED",
          "issues": [
            "Parameter will be removed in 8.0: innodb_file_format",
            "Parameter will be removed in 8.0: innodb_file_format_check",
            "Parameter will be removed in 8.0: innodb_file_format_max",
            "Parameter will be removed in 8.0: innodb_large_prefix",
            "Parameter will be removed in 8.0: sync_frm",
            "Parameter will be removed in 8.0: secure_auth",
            "Parameter will be removed in 8.0: multi_range_count",
            "Parameter will be removed in 8.0: log_warnings",
            "Parameter will be removed in 8.0: innodb_support_xa",
            "Parameter will be removed in 8.0: query_cache_size",
            "Parameter will be removed in 8.0: query_cache_type",
            "Parameter will be removed in 8.0: max_tmp_tables",
            "Parameter innodb_autoinc_lock_mode default changing to 2",
            "Critical parameter log_bin_trust_function_creators not set to required value 1"
          ],
          "recommendations": [
            "Remove or replace parameters that will be removed in 8.0",
            "Review and test with new parameter default values",
            "Update critical parameters to required values"
          ],
          "details": {
            "critical_parameters": [
              {
                "parameter": "log_bin_trust_function_creators",
                "current_value": null,
                "required_value": 1,
                "note": "Required for stored function creation with binary logging"
              },
              {
                "parameter": "enforce_gtid_consistency",
                "current_value": "OFF",
                "required_value": "ON",
                "note": "Required for GTID-based replication"
              }
            ],
            "behavioral_changes": [],
            "removed_parameters": [
              {
                "parameter": "innodb_file_format",
                "note": "Removed - Only Barracuda format supported",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "innodb_file_format_check",
                "note": "Removed - Only Barracuda format supported",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "innodb_file_format_max",
                "note": "Removed - Only Barracuda format supported",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "innodb_large_prefix",
                "note": "Removed - Large prefix is always enabled",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "sync_frm",
                "note": "Removed - .frm files no longer used",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "secure_auth",
                "note": "Removed - Secure authentication is mandatory",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "multi_range_count",
                "note": "Removed - No longer used",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "log_warnings",
                "note": "Use log_error_verbosity instead",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "innodb_support_xa",
                "note": "Removed - XA support is always enabled",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "query_cache_size",
                "note": "Removed - Query cache is removed",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "query_cache_type",
                "note": "Removed - Query cache is removed",
                "action_required": "Remove from configuration"
              },
              {
                "parameter": "max_tmp_tables",
                "note": "Removed - No longer used",
                "action_required": "Remove from configuration"
              }
            ],
            "deprecated_parameters": [],
            "new_default_values": [
              {
                "parameter": "innodb_autoinc_lock_mode",
                "current_value": 1,
                "new_default": "2",
                "note": "Affects auto-increment locking behavior"
              }
            ],
            "summary": {
              "total_issues": 15,
              "critical_issues": 14,
              "warnings": 1
            }
          }
        },
        {
          "name": "Foreign Key Check",
          "description": "Analyzes foreign key constraints for potential compatibility issues and validates referential integrity",
          "status": "AMBER",
          "issues": [
            "\nSchema: upgrade_test",
            "  FK: child_table_ibfk_1\n    Table: child_table.parent_id\n    References: upgrade_test.parent_table.id\n    Update Rule: RESTRICT, Delete Rule: CASCADE\n    Supporting Index: parent_id",
            "\nSchema: upgrade_test_good",
            "  FK: customer_addresses_ibfk_1\n    Table: customer_addresses.customer_id\n    References: upgrade_test_good.customers.id\n    Update Rule: CASCADE, Delete Rule: CASCADE\n    Supporting Index: idx_customer",
            "  FK: fk_orderitems_orders\n    Table: order_items.order_id\n    References: upgrade_test_good.orders.order_id\n    Update Rule: CASCADE, Delete Rule: RESTRICT\n    Supporting Index: idx_order",
            "  FK: fk_orderitems_products\n    Table: order_items.product_id\n    References: upgrade_test_good.products.product_id\n    Update Rule: CASCADE, Delete Rule: RESTRICT\n    Supporting Index: idx_product",
            "  FK: product_images_ibfk_1\n    Table: product_images.product_id\n    References: upgrade_test_good.products.product_id\n    Update Rule: CASCADE, Delete Rule: CASCADE\n    Supporting Index: idx_product"
          ],
          "recommendations": [
            "\nForeign Key Statistics:",
            "- Total foreign keys: 5",
            "- Affected schemas: 2",
            "- Affected tables: 4",
            "\nRecommended Actions:",
            "1. Verify all foreign key constraints before upgrade",
            "2. Check for missing indexes on foreign key columns",
            "3. Consider temporarily disabling foreign keys during upgrade",
            "4. Take backup before modifying any constraints",
            "5. Review update and delete rules for each constraint",
            "6. Test referential integrity after upgrade",
            "\nSQL Commands:",
            "-- To disable foreign key checks during upgrade:",
            "SET foreign_key_checks = 0;",
            "-- Don't forget to re-enable after upgrade:",
            "SET foreign_key_checks = 1;"
          ],
          "details": {
            "foreign_keys": [
              {
                "table_schema": "upgrade_test",
                "table_name": "child_table",
                "constraint_name": "child_table_ibfk_1",
                "column_name": "parent_id",
                "referenced_table_schema": "upgrade_test",
                "referenced_table_name": "parent_table",
                "referenced_column_name": "id",
                "update_rule": "RESTRICT",
                "delete_rule": "CASCADE",
                "supporting_index": "parent_id"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_addresses",
                "constraint_name": "customer_addresses_ibfk_1",
                "column_name": "customer_id",
                "referenced_table_schema": "upgrade_test_good",
                "referenced_table_name": "customers",
                "referenced_column_name": "id",
                "update_rule": "CASCADE",
                "delete_rule": "CASCADE",
                "supporting_index": "idx_customer"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "constraint_name": "fk_orderitems_orders",
                "column_name": "order_id",
                "referenced_table_schema": "upgrade_test_good",
                "referenced_table_name": "orders",
                "referenced_column_name": "order_id",
                "update_rule": "CASCADE",
                "delete_rule": "RESTRICT",
                "supporting_index": "idx_order"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "order_items",
                "constraint_name": "fk_orderitems_products",
                "column_name": "product_id",
                "referenced_table_schema": "upgrade_test_good",
                "referenced_table_name": "products",
                "referenced_column_name": "product_id",
                "update_rule": "CASCADE",
                "delete_rule": "RESTRICT",
                "supporting_index": "idx_product"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_images",
                "constraint_name": "product_images_ibfk_1",
                "column_name": "product_id",
                "referenced_table_schema": "upgrade_test_good",
                "referenced_table_name": "products",
                "referenced_column_name": "product_id",
                "update_rule": "CASCADE",
                "delete_rule": "CASCADE",
                "supporting_index": "idx_product"
              }
            ],
            "summary": {
              "total_foreign_keys": 5,
              "affected_schemas": 2,
              "affected_tables": 4
            }
          }
        },
        {
          "name": "Triggers and Views Check",
          "description": "Examines triggers and views for syntax changes, deprecated features, and complexity issues",
          "status": "AMBER",
          "issues": [
            "\nTriggers:",
            "\nSchema: upgrade_test",
            "  Trigger: before_parent_update\n    On Table: parent_table\n    Event: BEFORE UPDATE\n    Created: 2025-12-12 23:12:28.510000\n    Definer: admin@%\n    Character Set: utf8mb4\n",
            "\nSchema: upgrade_test_good",
            "  Trigger: trg_order_audit_insert\n    On Table: orders\n    Event: AFTER INSERT\n    Created: 2025-12-12 23:11:07.060000\n    Definer: admin@%\n    Character Set: utf8mb4\n",
            "  Trigger: trg_order_audit_update\n    On Table: orders\n    Event: AFTER UPDATE\n    Created: 2025-12-12 23:11:07.140000\n    Definer: admin@%\n    Character Set: utf8mb4\n",
            "\nViews:",
            "\nSchema: upgrade_test",
            "  View: user_auth\n    Updatable: YES\n    Security: DEFINER\n    Definer: admin@%\n    Character Set: utf8mb4\n    Potential Issues: Uses deprecated PASSWORD() function\n",
            "\nSchema: upgrade_test_good",
            "  View: customer_orders\n    Updatable: NO\n    Security: DEFINER\n    Definer: admin@%\n    Character Set: utf8mb4\n    Potential Issues: May need ANY_VALUE() for GROUP BY in 8.0\n",
            "  View: product_inventory\n    Updatable: YES\n    Security: DEFINER\n    Definer: admin@%\n    Character Set: utf8mb4\n"
          ],
          "recommendations": [
            "\nSummary:",
            "- Total objects to review: 6",
            "- Triggers: 3",
            "- Views: 3",
            "- Affected schemas: 2",
            "\nRecommended Actions:",
            "1. Review all triggers and views for 8.0 compatibility",
            "2. Test triggers and views in upgrade simulation",
            "3. Consider temporarily disabling triggers during upgrade",
            "4. Take backup of all view and trigger definitions",
            "5. Check for deprecated syntax in view definitions",
            "6. Verify trigger privileges and security settings",
            "7. Review view dependencies and updatability",
            "\nBackup Commands:",
            "-- To get trigger definitions:",
            "SHOW TRIGGERS;",
            "-- To get view definitions:",
            "SHOW CREATE VIEW view_name;",
            "\nDisabling/Enabling Triggers:",
            "-- To disable triggers on a table:",
            "ALTER TABLE table_name DISABLE TRIGGERS;",
            "-- To enable triggers on a table:",
            "ALTER TABLE table_name ENABLE TRIGGERS;"
          ],
          "details": {
            "triggers": [
              {
                "trigger_schema": "upgrade_test",
                "trigger_name": "before_parent_update",
                "event_manipulation": "UPDATE",
                "event_object_schema": "upgrade_test",
                "event_object_table": "parent_table",
                "action_statement": "BEGIN\nINSERT INTO audit_log (table_name, action, old_value, new_value)\nVALUES ('parent_table', 'UPDATE', OLD.data, NEW.data);\nEND",
                "action_timing": "BEFORE",
                "created": "2025-12-12T23:12:28.510000",
                "definer": "admin@%",
                "character_set_client": "utf8mb4",
                "collation_connection": "utf8mb4_general_ci",
                "database_collation": "latin1_swedish_ci"
              },
              {
                "trigger_schema": "upgrade_test_good",
                "trigger_name": "trg_order_audit_insert",
                "event_manipulation": "INSERT",
                "event_object_schema": "upgrade_test_good",
                "event_object_table": "orders",
                "action_statement": "BEGIN\nINSERT INTO audit_trail (table_name, action_type, record_id)\nVALUES ('orders', 'INSERT', NEW.order_id);\nEND",
                "action_timing": "AFTER",
                "created": "2025-12-12T23:11:07.060000",
                "definer": "admin@%",
                "character_set_client": "utf8mb4",
                "collation_connection": "utf8mb4_general_ci",
                "database_collation": "latin1_swedish_ci"
              },
              {
                "trigger_schema": "upgrade_test_good",
                "trigger_name": "trg_order_audit_update",
                "event_manipulation": "UPDATE",
                "event_object_schema": "upgrade_test_good",
                "event_object_table": "orders",
                "action_statement": "BEGIN\nINSERT INTO audit_trail (table_name, action_type, record_id)\nVALUES ('orders', 'UPDATE', NEW.order_id);\nEND",
                "action_timing": "AFTER",
                "created": "2025-12-12T23:11:07.140000",
                "definer": "admin@%",
                "character_set_client": "utf8mb4",
                "collation_connection": "utf8mb4_general_ci",
                "database_collation": "latin1_swedish_ci"
              }
            ],
            "views": [
              {
                "table_schema": "upgrade_test",
                "table_name": "user_auth",
                "view_definition": "select `upgrade_test`.`user_passwords`.`id` AS `id`,`upgrade_test`.`user_passwords`.`username` AS `username`,password(`upgrade_test`.`user_passwords`.`password_hash`) AS `hashed` from `upgrade_test`.`user_passwords`",
                "check_option": "NONE",
                "is_updatable": "YES",
                "definer": "admin@%",
                "security_type": "DEFINER",
                "character_set_client": "utf8mb4",
                "collation_connection": "utf8mb4_general_ci"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_orders",
                "view_definition": "select `c`.`id` AS `id`,`c`.`first_name` AS `first_name`,`c`.`last_name` AS `last_name`,`c`.`email` AS `email`,count(`o`.`order_id`) AS `total_orders`,sum(`o`.`total_amount`) AS `total_spent` from (`upgrade_test_good`.`customers` `c` left join `upgrade_test_good`.`orders` `o` on((`c`.`id` = `o`.`customer_id`))) group by `c`.`id`,`c`.`first_name`,`c`.`last_name`,`c`.`email`",
                "check_option": "NONE",
                "is_updatable": "NO",
                "definer": "admin@%",
                "security_type": "DEFINER",
                "character_set_client": "utf8mb4",
                "collation_connection": "utf8mb4_general_ci"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_inventory",
                "view_definition": "select `upgrade_test_good`.`products`.`product_id` AS `product_id`,`upgrade_test_good`.`products`.`product_name` AS `product_name`,`upgrade_test_good`.`products`.`category` AS `category`,`upgrade_test_good`.`products`.`price` AS `price`,`upgrade_test_good`.`products`.`stock_quantity` AS `stock_quantity`,(case when (`upgrade_test_good`.`products`.`stock_quantity` = 0) then 'Out of Stock' when (`upgrade_test_good`.`products`.`stock_quantity` < 10) then 'Low Stock' else 'In Stock' end) AS `stock_status` from `upgrade_test_good`.`products`",
                "check_option": "NONE",
                "is_updatable": "YES",
                "definer": "admin@%",
                "security_type": "DEFINER",
                "character_set_client": "utf8mb4",
                "collation_connection": "utf8mb4_general_ci"
              }
            ],
            "view_dependencies": [],
            "summary": {
              "trigger_count": 3,
              "view_count": 3,
              "affected_schemas": 2
            }
          }
        },
        {
          "name": "New Features Compatibility",
          "description": "Highlights MySQL 8.0 features (CTEs, window functions, JSON) available after upgrade",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "Review queries with mixed ORDER BY directions for descending index benefits",
            "Found 6 JSON columns - review new JSON functions and multi-valued indexes",
            "\nNew Feature Opportunities in 8.0:",
            "1. Hash Joins for better join performance",
            "2. Invisible Indexes for safe index management",
            "3. Descending Indexes for mixed-order queries",
            "4. Window Functions for analytical queries",
            "5. Instant DDL for faster schema changes",
            "6. SQL Roles for better security management",
            "7. Check Constraints for data integrity",
            "\nPerformance Improvements:",
            "- Enhanced optimizer features",
            "- Improved deadlock detection",
            "- Better temporary table handling",
            "- Instant DDL operations",
            "\nSecurity Enhancements:",
            "- New authentication plugin (caching_sha2_password)",
            "- Role-based access control",
            "- Enhanced password management"
          ],
          "details": {
            "new_features": {
              "hash_joins": {
                "available": false,
                "benefits": [
                  "Improved performance for large table joins without indexes",
                  "Better memory utilization for specific join types",
                  "Automatic optimization for suitable queries"
                ],
                "usage_examples": [
                  "SELECT /*+ HASH_JOIN(t1, t2) */ * FROM t1 JOIN t2 ON t1.id = t2.id",
                  "Optimizer automatically chooses hash joins when beneficial"
                ]
              },
              "invisible_indexes": {
                "available": false,
                "benefits": [
                  "Test index impact before removal",
                  "Maintain indexes while preventing optimizer usage",
                  "Safe index management in production"
                ],
                "usage_examples": [
                  "ALTER TABLE tbl ALTER INDEX idx INVISIBLE;",
                  "CREATE INDEX idx ON tbl (col) INVISIBLE;"
                ]
              },
              "descending_indexes": {
                "available": false,
                "benefits": [
                  "Improved performance for mixed ASC/DESC ordering",
                  "Better optimization for ORDER BY clauses",
                  "Reduced need for temporary tables"
                ],
                "usage_examples": [
                  "CREATE INDEX idx ON tbl (col1 ASC, col2 DESC);",
                  "Supports efficient mixed-order range scans"
                ]
              },
              "window_functions": {
                "available": false,
                "benefits": [
                  "Advanced analytical queries",
                  "Row-based calculations within result sets",
                  "Complex reporting capabilities"
                ],
                "usage_examples": [
                  "ROW_NUMBER() OVER (PARTITION BY col ORDER BY col2)",
                  "LAG(), LEAD(), FIRST_VALUE(), LAST_VALUE()"
                ]
              },
              "instant_ddl": {
                "available": false,
                "benefits": [
                  "Add/drop columns instantly",
                  "Reduced downtime for schema changes",
                  "No table copy for supported operations"
                ],
                "usage_examples": [
                  "ALTER TABLE tbl ADD COLUMN col1 INT DEFAULT 0, ALGORITHM=INSTANT;",
                  "Supports adding columns with defaults"
                ]
              },
              "check_constraints": {
                "available": false,
                "benefits": [
                  "Enhanced data integrity",
                  "Better constraint management",
                  "Improved data validation"
                ],
                "usage_examples": [
                  "CREATE TABLE t1 (c1 INT CHECK (c1 > 10));",
                  "ALTER TABLE t1 ADD CONSTRAINT CHECK (c1 < 100);"
                ]
              },
              "roles": {
                "available": false,
                "benefits": [
                  "Simplified user privilege management",
                  "Role-based access control",
                  "Better security management"
                ],
                "usage_examples": [
                  "CREATE ROLE 'app_read', 'app_write';",
                  "GRANT SELECT ON db.* TO 'app_read';"
                ]
              }
            },
            "performance_improvements": [
              {
                "feature": "Instant DDL",
                "description": "Many ALTER TABLE operations complete instantly",
                "benefit": "Reduced downtime for schema changes",
                "recommendation": "Use ALGORITHM=INSTANT for supported operations"
              },
              {
                "feature": "Improved InnoDB deadlock detection",
                "description": "Better handling of deadlock scenarios",
                "benefit": "Reduced transaction conflicts",
                "recommendation": "Monitor deadlock patterns after upgrade"
              },
              {
                "feature": "Enhanced optimizer hints",
                "description": "More control over query execution",
                "benefit": "Better query optimization options",
                "recommendation": "Review slow queries for hint opportunities"
              },
              {
                "feature": "Multi-valued indexes",
                "description": "Index generation for JSON arrays",
                "benefit": "Improved JSON array search performance",
                "recommendation": "Consider for JSON array fields"
              }
            ],
            "security_enhancements": [
              {
                "feature": "caching_sha2_password",
                "description": "New default authentication plugin",
                "benefit": "Improved security with good performance",
                "recommendation": "Plan user authentication updates"
              },
              {
                "feature": "SQL Roles",
                "description": "Role-based privilege management",
                "benefit": "Simplified access control",
                "recommendation": "Design role hierarchy for applications"
              }
            ]
          }
        },
        {
          "name": "Reserved Keywords Conflicts",
          "description": "Identifies table and column names that conflict with new MySQL 8.0 reserved keywords",
          "status": "RED",
          "issues": [
            "Table name 'upgrade_test.rank' conflicts with MySQL 8.0 reserved keyword",
            "Table name 'upgrade_test.system' conflicts with MySQL 8.0 reserved keyword",
            "Table name 'upgrade_test.window' conflicts with MySQL 8.0 reserved keyword",
            "Column name 'upgrade_test.sales_data.groups' conflicts with MySQL 8.0 reserved keyword",
            "Column name 'upgrade_test.sales_data.lag' conflicts with MySQL 8.0 reserved keyword",
            "Column name 'upgrade_test.sales_data.lead' conflicts with MySQL 8.0 reserved keyword",
            "Column name 'upgrade_test.sales_data.over' conflicts with MySQL 8.0 reserved keyword"
          ],
          "recommendations": [
            "CRITICAL: Rename objects that conflict with reserved keywords before upgrading",
            "Option 1 - Rename objects:",
            "  ALTER TABLE schema.rank RENAME TO schema.rank_data;",
            "  ALTER TABLE schema.table ALTER COLUMN rank RENAME TO rank_value;",
            "Option 2 - Use backticks in all queries:",
            "  SELECT * FROM `rank` WHERE `rank`.`rank` > 10;",
            "Note: Backticks are a workaround but renaming is recommended",
            "Update application code to handle renamed objects"
          ],
          "details": {
            "conflicting_tables": [
              {
                "table_schema": "upgrade_test",
                "table_name": "rank",
                "object_type": "TABLE"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "system",
                "object_type": "TABLE"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "window",
                "object_type": "TABLE"
              }
            ],
            "conflicting_columns": [
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "column_name": "groups",
                "object_type": "COLUMN"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "column_name": "lag",
                "object_type": "COLUMN"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "column_name": "lead",
                "object_type": "COLUMN"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "sales_data",
                "column_name": "over",
                "object_type": "COLUMN"
              }
            ],
            "conflicting_routines": []
          }
        },
        {
          "name": "Partition Compatibility",
          "description": "Validates partitioned tables for compatibility with MySQL 8.0 partitioning changes",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "Found 2 partitioned tables - verify compatibility during testing"
          ],
          "details": {
            "partitioned_tables": [
              {
                "schema": "upgrade_test",
                "table": "heavily_partitioned",
                "method": "RANGE",
                "partition_count": 6
              },
              {
                "schema": "upgrade_test_good",
                "table": "sales_history",
                "method": "RANGE",
                "partition_count": 4
              }
            ],
            "high_partition_count": [],
            "summary": {
              "total_partitioned_tables": 2,
              "total_partitions": 10
            }
          }
        },
        {
          "name": "User Privileges and Security",
          "description": "Reviews user accounts, authentication plugins, and privilege mappings for MySQL 8.0 security model",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "User authentication and privileges are compatible with MySQL 8.0"
          ],
          "details": {
            "deprecated_auth_users": [],
            "super_privilege_users": [],
            "empty_password_users": [],
            "total_users": 1
          }
        },
        {
          "name": "JSON Usage and Optimization",
          "description": "Analyzes JSON column usage and recommends MySQL 8.0 JSON optimization opportunities",
          "status": "AMBER",
          "issues": [
            "Found 6 JSON columns (6 without indexes)"
          ],
          "recommendations": [
            "JSON Optimization Opportunities in MySQL 8.0:",
            "- Consider multi-valued indexes for JSON array fields:",
            "  CREATE INDEX idx ON table ((CAST(json_col->'$.array[*]' AS UNSIGNED ARRAY)));",
            "- Use JSON_TABLE() for better query performance:",
            "  SELECT * FROM table, JSON_TABLE(json_col, '$.path[*]' COLUMNS(...)) AS jt;",
            "- Consider functional indexes for frequently queried JSON paths:",
            "  CREATE INDEX idx ON table ((json_col->'$.field'));",
            "- Test new JSON functions: JSON_OVERLAPS(), JSON_VALUE(), etc."
          ],
          "details": {
            "json_columns": [
              {
                "schema": "upgrade_test",
                "table": "customer_data",
                "column": "metadata",
                "has_index": false
              },
              {
                "schema": "upgrade_test",
                "table": "products",
                "column": "attributes",
                "has_index": false
              },
              {
                "schema": "upgrade_test",
                "table": "products",
                "column": "tags",
                "has_index": false
              },
              {
                "schema": "upgrade_test_good",
                "table": "customer_preferences",
                "column": "notification_settings",
                "has_index": false
              },
              {
                "schema": "upgrade_test_good",
                "table": "customer_preferences",
                "column": "preferences",
                "has_index": false
              },
              {
                "schema": "upgrade_test_good",
                "table": "event_logs",
                "column": "event_data",
                "has_index": false
              }
            ],
            "json_in_routines": [],
            "summary": {
              "total_json_columns": 6,
              "columns_without_indexes": 6,
              "routines_with_json": 0
            }
          }
        },
        {
          "name": "Stored Routine Complexity",
          "description": "Evaluates stored procedures and functions for size, complexity, and potential upgrade issues",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "Found 5 stored routines - all appear compatible"
          ],
          "details": {
            "complex_routines": [],
            "routines_with_dynamic_sql": [],
            "summary": {
              "total_routines": 5,
              "complex_routines_count": 0,
              "dynamic_sql_count": 0
            }
          }
        },
        {
          "name": "Spatial Data SRID Requirements",
          "description": "Identifies spatial columns missing explicit SRID declarations required by MySQL 8.0",
          "status": "RED",
          "issues": [
            "Spatial column 'upgrade_test.locations.area' (polygon) requires explicit SRID for MySQL 8.0",
            "Spatial column 'upgrade_test.locations.coordinates' (point) requires explicit SRID for MySQL 8.0"
          ],
          "recommendations": [
            "CRITICAL: All spatial columns require explicit SRID in MySQL 8.0:",
            "1. Add SRID to spatial columns:",
            "   ALTER TABLE schema.table MODIFY COLUMN location POINT SRID 4326;",
            "   (Common SRIDs: 4326 for WGS84 GPS coordinates, 0 for Cartesian)",
            "",
            "2. Rebuild all spatial indexes after adding SRID:",
            "   ALTER TABLE schema.table DROP INDEX spatial_idx;",
            "   ALTER TABLE schema.table ADD SPATIAL INDEX spatial_idx(location);",
            "",
            "3. Update application code to specify SRID:",
            "   ST_GeomFromText('POINT(1 1)', 4326)",
            "   ST_GeomFromWKB(wkb_data, 4326)",
            "",
            "Found 2 spatial columns requiring SRID specification"
          ],
          "details": {
            "spatial_columns": [
              {
                "schema": "upgrade_test",
                "table": "locations",
                "column": "area",
                "type": "polygon",
                "has_spatial_index": false
              },
              {
                "schema": "upgrade_test",
                "table": "locations",
                "column": "coordinates",
                "type": "point",
                "has_spatial_index": false
              }
            ],
            "summary": {
              "total_spatial_columns": 2,
              "columns_with_spatial_indexes": 0
            }
          }
        },
        {
          "name": "Functional Index Opportunities",
          "description": "Suggests MySQL 8.0 functional indexes for expressions commonly used in WHERE clauses",
          "status": "GREEN",
          "issues": [
            "Found 44 columns that could benefit from functional indexes"
          ],
          "recommendations": [
            "Functional Index Opportunities in MySQL 8.0:",
            "",
            "1. For case-insensitive string searches:",
            "   CREATE INDEX idx_name_lower ON table ((LOWER(name)));",
            "   Then use: SELECT * FROM table WHERE LOWER(name) = 'value';",
            "",
            "2. For date-based queries:",
            "   CREATE INDEX idx_created_date ON table ((DATE(created_at)));",
            "   CREATE INDEX idx_created_year ON table ((YEAR(created_at)));",
            "",
            "3. For JSON path expressions:",
            "   CREATE INDEX idx_json_field ON table ((json_col->'$.field'));",
            "   CREATE INDEX idx_json_array ON table ((CAST(json_col->'$.array[*]' AS UNSIGNED ARRAY)));",
            "",
            "Note: Test performance before deploying to production",
            "Functional indexes work best for frequently executed queries"
          ],
          "details": {
            "string_columns": [
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "column_name": "action",
                "data_type": "varchar",
                "column_type": "varchar(10)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "column_name": "new_value",
                "data_type": "text",
                "column_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "column_name": "old_value",
                "data_type": "text",
                "column_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "column_name": "table_name",
                "data_type": "varchar",
                "column_type": "varchar(50)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "child_table",
                "column_name": "info",
                "data_type": "varchar",
                "column_type": "varchar(100)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "column_name": "email",
                "data_type": "varchar",
                "column_type": "varchar(255)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "column_name": "full_name",
                "data_type": "varchar",
                "column_type": "varchar(200)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "heavily_partitioned",
                "column_name": "data",
                "data_type": "varchar",
                "column_type": "varchar(100)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "column_name": "product_code",
                "data_type": "varchar",
                "column_type": "varchar(50)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "inventory",
                "column_name": "status",
                "data_type": "varchar",
                "column_type": "varchar(20)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "column_name": "data1",
                "data_type": "varchar",
                "column_type": "varchar(255)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "column_name": "data2",
                "data_type": "text",
                "column_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "column_name": "data4",
                "data_type": "varchar",
                "column_type": "varchar(255)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "column_name": "data5",
                "data_type": "text",
                "column_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "latin1_table",
                "column_name": "name",
                "data_type": "varchar",
                "column_type": "varchar(100)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "locations",
                "column_name": "name",
                "data_type": "varchar",
                "column_type": "varchar(100)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "old_utf8_table",
                "column_name": "description",
                "data_type": "text",
                "column_type": "text"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_tinyint",
                "column_name": "item_code",
                "data_type": "varchar",
                "column_type": "varchar(20)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "parent_table",
                "column_name": "data",
                "data_type": "varchar",
                "column_type": "varchar(100)"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "column_name": "name",
                "data_type": "varchar",
                "column_type": "varchar(100)"
              }
            ],
            "datetime_columns": [
              {
                "table_schema": "upgrade_test",
                "table_name": "audit_log",
                "column_name": "changed_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "column_name": "created_at",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "heavily_partitioned",
                "column_name": "created_date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "large_data_table",
                "column_name": "created_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "orders_smallint",
                "column_name": "order_date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "audit_trail",
                "column_name": "changed_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customers",
                "column_name": "created_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "column_name": "updated_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "column_name": "created_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "orders",
                "column_name": "order_date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "products",
                "column_name": "updated_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "product_reviews",
                "column_name": "review_date",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_history",
                "column_name": "sale_date",
                "data_type": "date"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "sales_transactions",
                "column_name": "transaction_date",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "column_name": "created_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "session_data",
                "column_name": "expires_at",
                "data_type": "timestamp"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "column_name": "last_login",
                "data_type": "datetime"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "user_accounts",
                "column_name": "registration_date",
                "data_type": "datetime"
              }
            ],
            "json_columns": [
              {
                "table_schema": "upgrade_test",
                "table_name": "customer_data",
                "column_name": "metadata"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "column_name": "attributes"
              },
              {
                "table_schema": "upgrade_test",
                "table_name": "products",
                "column_name": "tags"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "column_name": "notification_settings"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "customer_preferences",
                "column_name": "preferences"
              },
              {
                "table_schema": "upgrade_test_good",
                "table_name": "event_logs",
                "column_name": "event_data"
              }
            ],
            "summary": {
              "total_opportunities": 44
            }
          }
        },
        {
          "name": "Index Statistics and Duplication",
          "description": "Detects duplicate indexes and low-cardinality indexes that impact performance",
          "status": "AMBER",
          "issues": [
            "Duplicate indexes on upgrade_test.inventory: 'idx_product' and 'idx_product_dup' (both on product_code)",
            "Duplicate indexes on upgrade_test_good.user_accounts: 'idx_username' and 'username' (both on username)"
          ],
          "recommendations": [
            "Remove duplicate indexes to improve performance:",
            "- Use MySQL 8.0 invisible indexes to test before dropping:",
            "  ALTER TABLE schema.table ALTER INDEX index_name INVISIBLE;",
            "  -- Monitor performance, then drop if no issues:",
            "  DROP INDEX index_name ON schema.table;",
            "Review 36 low-cardinality indexes for effectiveness"
          ],
          "details": {
            "duplicate_indexes": [
              {
                "table": "upgrade_test.inventory",
                "index1": "idx_product",
                "index2": "idx_product_dup",
                "columns": "product_code"
              },
              {
                "table": "upgrade_test_good.user_accounts",
                "index1": "idx_username",
                "index2": "username",
                "columns": "username"
              }
            ],
            "low_cardinality_indexes": [
              {
                "table": "upgrade_test.child_table",
                "index": "parent_id",
                "cardinality": 0
              },
              {
                "table": "upgrade_test.inventory",
                "index": "idx_product",
                "cardinality": 5
              },
              {
                "table": "upgrade_test.inventory",
                "index": "idx_product_dup",
                "cardinality": 5
              },
              {
                "table": "upgrade_test.inventory",
                "index": "idx_product_warehouse",
                "cardinality": 5
              },
              {
                "table": "upgrade_test.inventory",
                "index": "idx_status",
                "cardinality": 2
              },
              {
                "table": "upgrade_test.inventory",
                "index": "idx_warehouse",
                "cardinality": 3
              },
              {
                "table": "upgrade_test.inventory",
                "index": "idx_warehouse_product",
                "cardinality": 5
              },
              {
                "table": "upgrade_test_good.audit_trail",
                "index": "idx_changed_at",
                "cardinality": 1
              },
              {
                "table": "upgrade_test_good.audit_trail",
                "index": "idx_table_action",
                "cardinality": 1
              },
              {
                "table": "upgrade_test_good.customer_addresses",
                "index": "idx_customer",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.customer_addresses",
                "index": "idx_type",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.customer_preferences",
                "index": "idx_customer",
                "cardinality": 2
              },
              {
                "table": "upgrade_test_good.event_logs",
                "index": "idx_type_date",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.orders",
                "index": "idx_customer",
                "cardinality": 5
              },
              {
                "table": "upgrade_test_good.orders",
                "index": "idx_order_date",
                "cardinality": 7
              },
              {
                "table": "upgrade_test_good.orders",
                "index": "idx_status",
                "cardinality": 4
              },
              {
                "table": "upgrade_test_good.order_items",
                "index": "idx_order",
                "cardinality": 5
              },
              {
                "table": "upgrade_test_good.order_items",
                "index": "idx_product",
                "cardinality": 7
              },
              {
                "table": "upgrade_test_good.products",
                "index": "idx_category",
                "cardinality": 3
              },
              {
                "table": "upgrade_test_good.product_categories",
                "index": "idx_order",
                "cardinality": 5
              },
              {
                "table": "upgrade_test_good.product_categories",
                "index": "idx_parent",
                "cardinality": 2
              },
              {
                "table": "upgrade_test_good.product_images",
                "index": "idx_order",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.product_images",
                "index": "idx_product",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.product_reviews",
                "index": "idx_customer",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.product_reviews",
                "index": "idx_product_date",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.product_reviews",
                "index": "idx_rating",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.sales_transactions",
                "index": "idx_date",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.sales_transactions",
                "index": "idx_order",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.sales_transactions",
                "index": "idx_status",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.session_data",
                "index": "idx_token",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.session_data",
                "index": "idx_user",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.shipping_carriers",
                "index": "idx_active",
                "cardinality": 1
              },
              {
                "table": "upgrade_test_good.shipping_carriers",
                "index": "idx_code",
                "cardinality": 4
              },
              {
                "table": "upgrade_test_good.user_accounts",
                "index": "idx_email",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.user_accounts",
                "index": "idx_status",
                "cardinality": 0
              },
              {
                "table": "upgrade_test_good.user_accounts",
                "index": "idx_username",
                "cardinality": 0
              }
            ],
            "summary": {
              "total_indexes": 40,
              "duplicate_count": 2,
              "low_cardinality_count": 36
            }
          }
        },
        {
          "name": "Auto-Increment Exhaustion",
          "description": "Identifies auto-increment columns approaching their maximum values based on data type limits",
          "status": "RED",
          "issues": [
            "CRITICAL: Table 'upgrade_test.orders_smallint' auto-increment at 91.6% capacity (60,000 of 65,535)",
            "CRITICAL: Table 'upgrade_test.orders_tinyint' auto-increment at 94.1% capacity (240 of 255)"
          ],
          "recommendations": [
            "CRITICAL: Auto-increment exhaustion detected!",
            "",
            "Immediate Actions:",
            "1. Convert auto-increment columns to BIGINT:",
            "   ALTER TABLE schema.table MODIFY COLUMN id BIGINT UNSIGNED AUTO_INCREMENT;",
            "",
            "2. Run ANALYZE TABLE after modification:",
            "   ANALYZE TABLE schema.table;",
            "",
            "3. Consider data archiving to reset auto-increment:",
            "   - Move old data to archive table",
            "   - Drop and recreate original table",
            "",
            "Found 2 tables requiring immediate attention"
          ],
          "details": {
            "high_usage_tables": [
              {
                "schema": "upgrade_test",
                "table": "orders_smallint",
                "column": "order_id",
                "data_type": "smallint",
                "current": 60000,
                "max": 65535.0,
                "percent_used": 91.55
              },
              {
                "schema": "upgrade_test",
                "table": "orders_tinyint",
                "column": "order_id",
                "data_type": "tinyint",
                "current": 240,
                "max": 255.0,
                "percent_used": 94.12
              }
            ],
            "summary": {
              "total_autoinc_tables": 25,
              "critical_count": 2,
              "warning_count": 0
            }
          }
        },
        {
          "name": "Replication Topology",
          "description": "Analyzes replication configuration, lag, and readiness for upgrade with minimal downtime",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "Not configured as a replica - no replication checks needed"
          ],
          "details": {
            "replication_status": {},
            "long_running_transactions": [],
            "summary": {
              "is_replica": false,
              "replication_lag_seconds": null,
              "long_transactions_count": 0
            }
          }
        },
        {
          "name": "Connection Configuration",
          "description": "Reviews connection limits, thread cache, and connection-related settings for optimal upgrade performance",
          "status": "GREEN",
          "issues": [],
          "recommendations": [
            "Connection configuration is healthy - 0% utilization"
          ],
          "details": {
            "connection_stats": [],
            "system_variables": {
              "max_connections": 1000,
              "max_user_connections": 0,
              "thread_cache_size": 11,
              "connect_timeout": 10,
              "wait_timeout": 28800,
              "interactive_timeout": 28800
            },
            "summary": {
              "total_connections": 0,
              "sleeping_connections": 0,
              "active_connections": 0,
              "max_connections": 1000,
              "usage_percent": 0
            }
          }
        }
      ],
      "summary": {
        "status": "RED",
        "total_issues": 222,
        "blocking_issues": 38,
        "warnings": 162
      }
    }
  },
  "generated_at": "2025-12-12T23:08:51.543927",
  "detailed_summary": {
    "overview": {
      "total_databases": 1,
      "databases_needing_upgrade": 1,
      "databases_needing_parameter_updates": 0,
      "aurora_clusters": [
        {
          "identifier": "database-3",
          "version": "5.7.mysql_aurora.2.12.3",
          "issues": 222
        }
      ],
      "rds_instances": [],
      "status": "RED",
      "total_issues": 222,
      "blocking_issues": 38,
      "warnings": 0
    },
    "upgrade_path": {
      "immediate_actions": [
        "<strong>Deprecated Features Check</strong> (12 issues): Update authentication to caching_sha2_password for all users",
        "<strong>Parameter Compatibility Check</strong> (15 issues): Remove or replace parameters that will be removed in 8.0",
        "<strong>Reserved Keywords Conflicts</strong> (7 issues): CRITICAL: Rename objects that conflict with reserved keywords before upgrading",
        "<strong>Spatial Data SRID Requirements</strong> (2 issues): CRITICAL: All spatial columns require explicit SRID in MySQL 8.0:",
        "<strong>Auto-Increment Exhaustion</strong> (2 issues): CRITICAL: Auto-increment exhaustion detected!"
      ],
      "upgrade_order": [
        "Aurora cluster database-3 (5.7.mysql_aurora.2.12.3)"
      ],
      "parameter_changes": {
        "aurora": {
          "log_bin_trust_function_creators": "ON",
          "character_set_server": "utf8mb4",
          "collation_server": "utf8mb4_0900_ai_ci"
        },
        "rds": {
          "binlog_format": "ROW",
          "log_bin_trust_function_creators": "ON",
          "character_set_server": "utf8mb4",
          "collation_server": "utf8mb4_0900_ai_ci",
          "max_allocated_packet": "67108864(64MB)",
          "table_open_cache": "4000",
          "explicit_defaults_for_timestamp": "ON"
        }
      }
    },
    "common_issues": [
      "  View: customer_orders\n    Updatable: NO\n    Security: DEFINER\n    Definer: admin@%\n    Character Set: utf8mb4\n    Potential Issues: May need ANY_VALUE() for GROUP BY in 8.0\n",
      "  Table: customer_preferences\n    Column: preference_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: heavily_partitioned\n    Column: data\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: customer_addresses\n    Column: address_type\n    Type: enum('billing','shipping','both')\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: sales_history\n    Column: amount\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: session_data\n    Column: user_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  FK: fk_orderitems_orders\n    Table: order_items.order_id\n    References: upgrade_test_good.orders.order_id\n    Update Rule: CASCADE, Delete Rule: RESTRICT\n    Supporting Index: idx_order",
      "  Table: parent_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Deprecated system variable in use: tx_read_only",
      "  Table: customer_data\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_images\n    Column: image_url\n    Type: varchar(500)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "CRITICAL: Table 'upgrade_test.orders_tinyint' auto-increment at 94.1% capacity (240 of 255)",
      "  Table: customer_preferences\n    Column: preferences\n    Type: json\n    Current Charset: None\n    Current Collation: None",
      "Server character set: latin1",
      "  Table: window\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: sales_transactions\n    Column: payment_method\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Parameter will be removed in 8.0: innodb_file_format_max",
      "  FK: fk_orderitems_products\n    Table: order_items.product_id\n    References: upgrade_test_good.products.product_id\n    Update Rule: CASCADE, Delete Rule: RESTRICT\n    Supporting Index: idx_product",
      "  Table: customers\n    Column: email\n    Type: varchar(255)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "  Trigger: trg_order_audit_update\n    On Table: orders\n    Event: AFTER UPDATE\n    Created: 2025-12-12 23:11:07.140000\n    Definer: admin@%\n    Character Set: utf8mb4\n",
      "  Table: product_reviews\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: child_table\n    Column: info\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: sales_data\n    Column: over\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: product_categories\n    Column: category_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Deprecated system variable in use: multi_range_count",
      "  Table: audit_log\n    Column: old_value\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "Table name 'upgrade_test.system' conflicts with MySQL 8.0 reserved keyword",
      "  Table: large_data_table\n    Column: data4\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: latin1_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: event_logs\n    Column: log_id\n    Type: bigint(20) unsigned\n    Current Charset: None\n    Current Collation: None",
      "  Table: large_data_table\n    Column: data1\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: system\n    Column: name\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: heavily_partitioned\n    Column: created_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
      "  Table: products\n    Column: product_name\n    Type: varchar(200)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "  Table: orders\n    Column: order_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Found 6 JSON columns (6 without indexes)",
      "  Table: locations\n    Column: area\n    Type: polygon\n    Current Charset: None\n    Current Collation: None",
      "  Table: order_items\n    Column: item_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: sales_transactions\n    Column: transaction_date\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
      "  Table: child_table\n    Column: parent_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: locations\n    Column: name\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: customer_data\n    Column: email\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: audit_log\n    Column: action\n    Type: varchar(10)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: order_items\n    Column: quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_categories\n    Column: parent_category_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: session_data\n    Column: session_id\n    Type: int(10) unsigned\n    Current Charset: None\n    Current Collation: None",
      "  Table: sales_transactions\n    Column: transaction_status\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: session_data\n    Column: session_token\n    Type: varchar(255)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Trigger: before_parent_update\n    On Table: parent_table\n    Event: BEFORE UPDATE\n    Created: 2025-12-12 23:12:28.510000\n    Definer: admin@%\n    Character Set: utf8mb4\n",
      "  Table: sales_data\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: products\n    Column: stock_quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_reviews\n    Column: review_date\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
      "Column name 'upgrade_test.sales_data.over' conflicts with MySQL 8.0 reserved keyword",
      "  Table: sales_history\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "\nTriggers:",
      "  Table: user_passwords\n    Column: username\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "Parameter innodb_autoinc_lock_mode default changing to 2",
      "  Table: orders_tinyint\n    Column: item_code\n    Type: varchar(20)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: sales_data\n    Column: lag\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_passwords\n    Column: password_hash\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: product_images\n    Column: image_alt_text\n    Type: varchar(200)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: customer_addresses\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: orders\n    Column: total_amount\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_addresses\n    Column: city\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: child_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: sales_data\n    Column: lead\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: audit_trail\n    Column: table_name\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Column name 'upgrade_test.sales_data.lead' conflicts with MySQL 8.0 reserved keyword",
      "Parameter will be removed in 8.0: max_tmp_tables",
      "  Table: audit_log\n    Column: new_value\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: customer_preferences\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Parameter will be removed in 8.0: innodb_support_xa",
      "  Table: product_categories\n    Column: display_order\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_addresses\n    Column: state_province\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Duplicate indexes on upgrade_test_good.user_accounts: 'idx_username' and 'username' (both on username)",
      "  Table: shipping_carriers\n    Column: carrier_code\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  View: user_auth\n    Updatable: YES\n    Security: DEFINER\n    Definer: admin@%\n    Character Set: utf8mb4\n    Potential Issues: Uses deprecated PASSWORD() function\n",
      "Parameter will be removed in 8.0: query_cache_type",
      "  Table: products\n    Column: name\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "Parameter will be removed in 8.0: innodb_large_prefix",
      "  Table: orders_smallint\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: system\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Trigger: trg_order_audit_insert\n    On Table: orders\n    Event: AFTER INSERT\n    Created: 2025-12-12 23:11:07.060000\n    Definer: admin@%\n    Character Set: utf8mb4\n",
      "  Table: inventory\n    Column: warehouse_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "CRITICAL: Table 'upgrade_test.orders_smallint' auto-increment at 91.6% capacity (60,000 of 65,535)",
      "  Table: sales_transactions\n    Column: payment_amount\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: order_items\n    Column: unit_price\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: shipping_carriers\n    Column: is_active\n    Type: tinyint(1)\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_accounts\n    Column: account_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Spatial column 'upgrade_test.locations.area' (polygon) requires explicit SRID for MySQL 8.0",
      "  Table: large_data_table\n    Column: data5\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "Parameter will be removed in 8.0: query_cache_size",
      "  Table: customer_addresses\n    Column: country\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Found 4 users with deprecated authentication methods",
      "Critical parameter log_bin_trust_function_creators not set to required value 1",
      "  Table: large_data_table\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_preferences\n    Column: updated_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "Column name 'upgrade_test.sales_data.lag' conflicts with MySQL 8.0 reserved keyword",
      "  Table: user_accounts\n    Column: user_email\n    Type: varchar(255)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Parameter will be removed in 8.0: sync_frm",
      "  Table: sales_data\n    Column: groups\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: event_logs\n    Column: event_type\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: customers\n    Column: last_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "  Table: sales_transactions\n    Column: order_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: rank\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Duplicate indexes on upgrade_test.inventory: 'idx_product' and 'idx_product_dup' (both on product_code)",
      "  Table: latin1_table\n    Column: name\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: product_reviews\n    Column: review_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: shipping_carriers\n    Column: tracking_url_template\n    Type: varchar(500)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: customers\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "Parameter will be removed in 8.0: secure_auth",
      "  Table: products\n    Column: attributes\n    Type: json\n    Current Charset: None\n    Current Collation: None",
      "\nViews:",
      "Spatial column 'upgrade_test.locations.coordinates' (point) requires explicit SRID for MySQL 8.0",
      "Table name 'upgrade_test.rank' conflicts with MySQL 8.0 reserved keyword",
      "  Table: old_utf8_table\n    Column: description\n    Type: text\n    Current Charset: utf8\n    Current Collation: utf8_general_ci",
      "  Table: sales_transactions\n    Column: transaction_id\n    Type: bigint(20)\n    Current Charset: None\n    Current Collation: None",
      "\nSchema: upgrade_test",
      "  Table: heavily_partitioned\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_addresses\n    Column: is_default\n    Type: tinyint(1)\n    Current Charset: None\n    Current Collation: None",
      "  Table: shipping_carriers\n    Column: carrier_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "\nSchema: upgrade_test_good",
      "  Table: products\n    Column: category\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "Query cache is enabled but will be removed in 8.0",
      "  Table: product_reviews\n    Column: helpful_count\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_reviews\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: parent_table\n    Column: data\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: customer_data\n    Column: created_at\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
      "  Table: locations\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  FK: child_table_ibfk_1\n    Table: child_table.parent_id\n    References: upgrade_test.parent_table.id\n    Update Rule: RESTRICT, Delete Rule: CASCADE\n    Supporting Index: parent_id",
      "  Table: products\n    Column: updated_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_addresses\n    Column: postal_code\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: orders\n    Column: order_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_addresses\n    Column: street_address\n    Type: varchar(255)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Deprecated system variable in use: innodb_file_format",
      "  Table: large_data_table\n    Column: data2\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: orders\n    Column: customer_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Parameter will be removed in 8.0: innodb_file_format",
      "  View: product_inventory\n    Updatable: YES\n    Security: DEFINER\n    Definer: admin@%\n    Character Set: utf8mb4\n",
      "Deprecated system variable in use: innodb_file_format_check",
      "  Table: product_images\n    Column: is_primary\n    Type: tinyint(1)\n    Current Charset: None\n    Current Collation: None",
      "  Table: audit_trail\n    Column: action_type\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: product_images\n    Column: display_order\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_accounts\n    Column: username\n    Type: varchar(50)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Parameter will be removed in 8.0: multi_range_count",
      "  Table: inventory\n    Column: quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: session_data\n    Column: user_agent\n    Type: text\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: product_reviews\n    Column: review_text\n    Type: text\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: locations\n    Column: coordinates\n    Type: point\n    Current Charset: None\n    Current Collation: None",
      "  Table: inventory\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: products\n    Column: tags\n    Type: json\n    Current Charset: None\n    Current Collation: None",
      "Deprecated system variable in use: secure_auth",
      "  Table: products\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: session_data\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "Found 2 spatial columns - review SRID requirements",
      "  Table: customer_data\n    Column: full_name\n    Type: varchar(200)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: audit_trail\n    Column: record_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: session_data\n    Column: ip_address\n    Type: varchar(45)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: customer_data\n    Column: metadata\n    Type: json\n    Current Charset: None\n    Current Collation: None",
      "  Table: order_items\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Table name 'upgrade_test.window' conflicts with MySQL 8.0 reserved keyword",
      "Column name 'upgrade_test.sales_data.groups' conflicts with MySQL 8.0 reserved keyword",
      "  Table: product_reviews\n    Column: rating\n    Type: tinyint(4)\n    Current Charset: None\n    Current Collation: None",
      "Parameter will be removed in 8.0: innodb_file_format_check",
      "Deprecated system variable in use: innodb_file_format_max",
      "  Table: customers\n    Column: first_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "Parameter will be removed in 8.0: log_warnings",
      "  Table: orders_smallint\n    Column: order_id\n    Type: smallint(5) unsigned\n    Current Charset: None\n    Current Collation: None",
      "  Table: audit_log\n    Column: changed_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "  Table: audit_trail\n    Column: changed_by\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "Current version 5.7.44 needs upgrade to 8.0",
      "  Table: sales_history\n    Column: sale_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
      "  Table: shipping_carriers\n    Column: carrier_name\n    Type: varchar(100)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: orders_tinyint\n    Column: quantity\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: window\n    Column: title\n    Type: varchar(100)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: event_logs\n    Column: created_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "  Table: customers\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: sales_history\n    Column: sale_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: inventory\n    Column: status\n    Type: varchar(20)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "Server collation: latin1_swedish_ci",
      "  Table: order_items\n    Column: order_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: products\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Deprecated system variable in use: query_cache_size",
      "  FK: product_images_ibfk_1\n    Table: product_images.product_id\n    References: upgrade_test_good.products.product_id\n    Update Rule: CASCADE, Delete Rule: CASCADE\n    Supporting Index: idx_product",
      "  Table: audit_trail\n    Column: audit_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_passwords\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: orders_smallint\n    Column: order_date\n    Type: date\n    Current Charset: None\n    Current Collation: None",
      "  Table: orders_smallint\n    Column: total\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: event_logs\n    Column: event_data\n    Type: json\n    Current Charset: None\n    Current Collation: None",
      "  FK: customer_addresses_ibfk_1\n    Table: customer_addresses.customer_id\n    References: upgrade_test_good.customers.id\n    Update Rule: CASCADE, Delete Rule: CASCADE\n    Supporting Index: idx_customer",
      "  Table: old_utf8_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_accounts\n    Column: registration_date\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
      "  Table: large_data_table\n    Column: data3\n    Type: blob\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_categories\n    Column: category_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: audit_log\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "Deprecated system variable in use: query_cache_type",
      "Deprecated system variable in use: tx_isolation",
      "  Table: large_data_table\n    Column: id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: orders\n    Column: status\n    Type: enum('pending','processing','shipped','delivered','cancelled')\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "  Table: inventory\n    Column: product_code\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: product_categories\n    Column: description\n    Type: text\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: products\n    Column: description\n    Type: text\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_unicode_ci",
      "  Table: session_data\n    Column: expires_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_images\n    Column: product_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: audit_log\n    Column: table_name\n    Type: varchar(50)\n    Current Charset: latin1\n    Current Collation: latin1_swedish_ci",
      "  Table: audit_trail\n    Column: changed_at\n    Type: timestamp\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_accounts\n    Column: account_status\n    Type: varchar(20)\n    Current Charset: utf8mb4\n    Current Collation: utf8mb4_general_ci",
      "  Table: orders_tinyint\n    Column: order_id\n    Type: tinyint(3) unsigned\n    Current Charset: None\n    Current Collation: None",
      "  Table: products\n    Column: price\n    Type: decimal(10,2)\n    Current Charset: None\n    Current Collation: None",
      "  Table: rank\n    Column: score\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_addresses\n    Column: address_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: user_accounts\n    Column: last_login\n    Type: datetime\n    Current Charset: None\n    Current Collation: None",
      "  Table: product_images\n    Column: image_id\n    Type: int(11)\n    Current Charset: None\n    Current Collation: None",
      "  Table: customer_preferences\n    Column: notification_settings\n    Type: json\n    Current Charset: None\n    Current Collation: None"
    ],
    "recommendations": {
      "pre_upgrade": [
        "Update parameter groups with recommended settings",
        "Take full backup of all databases",
        "Convert character sets to utf8mb4 where needed",
        "Make sure that the instance have enough resources (CPU, Memory, IOPS, storage) for the upgrade process",
        "Ensure there are no long-running transaction",
        "Make sure HLL is not high"
      ],
      "during_upgrade": [
        "Follow upgrade order as specified",
        "Test each upgrade in non-production first",
        "Monitor replication lag during upgrades",
        "Verify application compatibility",
        "Have rollback plan ready"
      ],
      "post_upgrade": [
        "Verify all stored procedures and views",
        "Check application performance",
        "Update monitoring and alerts",
        "Review and update backup strategies",
        "Document changes and lessons learned"
      ]
    }
  }
}